<%= breadcrumb [ {"Alert Setting" => nil} ] %>
<div class="inner-container">
  <div class="clearfix">
    <div class="pull-left">
      <h3 class="header-title">Alert Setting</h3>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <div class="text-muted"><i>Below you can configure setting for the alerted case</i></div>
      <br/>
      <%= simple_form_for @alert, html: { class: 'form-inline form alert-form'} do |f| %>
        <div class="form-group">
          <label class="control-label">Alert option</label>
          <div class="col-sm-9 horizontal-form-control">
            <div>
              <span class="switch-label">SMS</span><%=f.check_box :is_enable_sms_alert, class: 'form-control ace ace-switch ace-switch-4 btn-empty' %>
              <span class="lbl" style="vertical-align:bottom"></span>
            </div>
            <div>
              <span class="switch-label">Email</span><%=f.check_box :is_enable_email_alert, class: 'form-control ace ace-switch ace-switch-4 btn-empty' %>
              <span class="lbl" style="vertical-align:bottom"></span>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label class="control-label">Reciepient</label>
          <div class="col-sm-9">
            <% Place::TYPE.each do |place_type| %>
            <div>
              <label>
                <% if @alert.recipient_type.include? place_type%>
                  <input name="alert[recipient_type][]" value="<%= place_type %>" type="checkbox" class="ace" checked="checked"/>
                <% else %>
                  <input name="alert[recipient_type][]" value="<%= place_type %>" type="checkbox" class="ace" />
                <% end %>
                <span class="lbl"> <%= place_type %></span>
              </label>
            </div>
            <% end %>
            <input name="alert[recipient_type][]"  type="hidden"/>
          </div>
        </div>

        <div class="form-group">
          <label class="control-label"> Message template</label>
          <div class="col-sm-9">
            <%= f.text_area :message_template, as: :text, rows: 6, cols: 60 %>
          </div>
        </div>

        <div class='form-group'>
          <label class="control-label">&nbsp;</label>
          <div class="col-sm-9">
            <%= message_template_params_for(:alert_message_template) %>
          </div>
        </div>

        <div class='form-group'>
          <div class="col-sm-9">
            <%= f.submit 'Save', class: 'btn btn-primary' %>
          </div>
        </div>
      <% end %>
  </div>
</div>
